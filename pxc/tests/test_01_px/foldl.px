
namespace foldl;
import test_common "";

function {vt, mt, op} vt foldl(vt v, mt m) {
  vt r = v;
  uint i;
  for (i = 0; i < m.size(); ++i) {
    r = op(r, m[i]);
  }
  return r;
}

vector{int} a;
a.resize(100, 0);
uint i;
for (i = 0; i < a.size(); ++i) {
  a[i] = i + 1;
}
function int add(int x, int y) {
  return x + y;
}
macro foldl_add foldl{int, vector{int}, add};
int z = foldl_add(0, a);
io::println(z);

