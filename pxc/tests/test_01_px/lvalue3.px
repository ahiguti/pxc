
import io;

struct bar {
  int v;
  int w;
}

function int fubar(ptr{bar} x)
{
  return x->v + x->w;
}

function int foo(cptr{bar} x)
{
# error
  return fubar(x);
}

{
  ptr{bar} z;
  z->v = 3;
  z->w = 4;
  io::println(foo(z));
}

