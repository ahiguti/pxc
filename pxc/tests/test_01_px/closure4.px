import test_common "";

namespace closure4;
import io;

function void test()
{
  int x = 0;
  function {t, f} void foo(t v) { x += f(v); }
  function int bar(int v) { return v * 2 + x; }
  foo{int, bar}(3);
  io::println(x);
}

test();

