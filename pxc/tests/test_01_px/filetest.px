import common -;
namespace filetest;

function void ft1()
{
  var eh = io::errno::errno_handler(error::handle_throw);
  var f = io::file::io_open(io::system, "hoge.txt", io::file::O_RDONLY, 0, eh);
  string s;
  size_t len = 3;
  f.read(s, len, eh);
  println(s);
}

function void ft2()
{
  string s;
  var eh = io::errno::errno_handler(error::handle_throw);
  io::file::io_read_file(io::system, "hoge.txt", s, eh);
  print(s);
}

ft1();
ft2();

