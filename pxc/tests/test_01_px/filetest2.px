import common -;
namespace filetest2;

function void ft1(string const& fn)
{
  println("ft1");
  io::errno::errno_t e;
  io::file::statbuf stbuf;
  io::file::io_stat(io::system, fn, stbuf, e);
  if (e != io::errno::EOK) {
    print("failed to stat: ");
    println(fn);
    print("error = ");
    println(e);
  } else {
    println(stbuf.st_size);
  }
}

function void ft2(string const& fn)
{
  println("ft2");
  io::errno::errno_t e;
  string s;
  io::file::io_read_file(io::system, fn, s, e);
  print(s);
}

ft1("hoge.txt");
ft2("hoge.txt");
ft1("hoge2.txt");
ft2("hoge2.txt");

