
import io;
namespace method;

interface ifoo {
  function void add(int x);
  function int get();
}

struct foo : ifoo : {
  int v;
  function void add(int x) {
    v += x;
  }
  function int get() {
    return v;
  }
}

function void test1() {
  ref{foo} f0 = foo(3);
  ref{ifoo} f = f0;
  f->add(15);
  io::println(f->get());
}

test1();

