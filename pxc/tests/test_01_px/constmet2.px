import common -;

namespace constmet2;

threaded struct foo {
  int x;
  function int m(int y) const {
    return x + y;
  }
}

{
  ptr{foo} v = ptr{foo}(foo(10));
  println(v->m(20)); // calling const method. ok.
}
