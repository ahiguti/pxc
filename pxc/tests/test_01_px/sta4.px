
import io;

struct foo {
  int first;
  int second;
  function int add() { return first + second; }
}

macro fooarr vector{foo};
macro foorefarr vector{ref{foo}};

function void fooarg(foo x)
{
}

function int addint(int x, int y)
{
  return x + y;
}

function void sttest1()
{
  foorefarr arr;
  arr.resize(100);
  arr[10] = foo(10, 10);
  fooarg(*arr[10]);
  arr[11] = foo();
  arr[11]->first = 10;
  arr[11]->second = 20;
  int r = addint(arr[11]->first, arr[11]->second);
  io::println(r);
}

sttest1();

