
namespace functional3;
import meta;
import io;

function {f} meta::rettype{f} apply(meta::argtype{f,0} x)
{
  return f(x);
}

function {f,g} meta::rettype{f} composite(meta::argtype{g,0} x)
{
  return f(g(x));
}

function int foo(int x)
{
  return x * x;
}

function void test()
{
  int v = apply{foo}(5);
  io::println(v);
  int w = composite{foo,foo}(5);
  io::println(w);
}

test();
