import common "";

namespace functional3;
import meta::builtin m;

function {f} m::rettype{f} apply(m::argtype{f,0} x)
{
  return f(x);
}

function {f,g} m::rettype{f} composite(m::argtype{g,0} x)
{
  return f(g(x));
}

function int foo(int x)
{
  return x * x;
}

function void test()
{
  int v = apply{foo}(5);
  println(v);
  int w = composite{foo,foo}(5);
  println(w);
}

test();
