
namespace arraymod;
import io;

struct foo {
}

function void mod(foo& e, vector{foo}& a) {
  a.clear();
}

function void test1() {
  vector{foo} arr;
  arr.resize(100);
  mod(arr[0], arr);
}

try {
  io::println("1");
  test1();
  io::println("2");
} catch (would_invalidate e) {
  io::println("exc");
}
