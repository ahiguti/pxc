
namespace arraymod;
import test_common "";

struct foo {
}

function void mod(foo& e, vector{foo}& a) {
  a.clear();
}

function void test1() {
  vector{foo} arr;
  int zzz;
  arr.resize(100, foo());
  arr.resize(101, foo());
  mod(arr[0], arr);
}

try {
  io::println("1");
  test1();
  io::println("2");
} catch (pxcrt::would_invalidate e) {
  io::println("exc");
}
