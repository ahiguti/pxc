
namespace guard1;
import io;

struct hoge {
  int v;
}

function int test1() {
  function void foo(vector{hoge}& vec, hoge v) {
    vec.resize(100); // error because v is passed by constref
    vec[5].v = 30;
  }
  vector{hoge} v;
  v.resize(100);
  foo(v, v[1]);
  return v[5].v;
}

int v = test1();
io::println(v);

