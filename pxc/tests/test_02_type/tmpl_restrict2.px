import test_common "";

namespace tmpl_restrict;
import io;

struct {f} funcobj
{
  function int m(int x) {
    return f(x);
  }
}

function int foo(int x)
{
  function int bar(int x)
  {
    return x * 3;
  }
  funcobj{bar} fo;
  int z = fo.m(5);
  io::println(z);
  return x * 2;
}

