namespace tf3;
import common -;

struct hoge(int x0) { /* not multithread safe */
  int x = x0;
}

threaded function int foo(hoge const& v)
{
  return v.x;
}

{
  println(make_thread_func{foo}(hoge(33))->eval());
}

