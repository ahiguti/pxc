import common -;

namespace m_sym;
import meta::common m;

function {t} void show_symbol(t x) {
  metafunction sym m::symbol{m::concat{t, "_to_string"}, t};
  string s = m::concat{t, ": ", sym};
  println(s);
}

function string foo_to_string(foo f) {
  return "foo_str";
}

threaded struct foo {
}

foo x;
show_symbol(x);
// int y;
// show_symbol(y);
// io::file f;
// println(meta::to_string{meta::symbol{"size_string", string}});
