namespace test_symbols2;
import common -;
import symbols;
import meta::common m;

struct {t} hoge {
  int x;
  t y;
}

struct foo {
  function {t} t bar(t x) { return t; }
}

public function {ns} void show_exports()
{
  macro allfuncs symbols::all_functions{ns};
  macro alltypes symbols::all_types{ns};
  expand (idx : m::seq{m::size{allfuncs}}) {
    println(m::full_string{m::at{allfuncs, idx}});
  }
  expand (idx : m::seq{m::size{alltypes}}) {
    println(m::full_string{m::at{alltypes, idx}});
  }
}

show_exports{"test_symbols2"}();

