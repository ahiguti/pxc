namespace m_tparam;
import common "";
import meta::builtin "";

function {t, s} int foo() {
  return 3;
}

struct {t} bar {
  int x;
}

struct baz {
}

macro name_np{s} concat{"(", full_string{s}, ":", num_tparams{s}, ")"};
macro nfuncs{ns} metamap{functions{ns}, name_np};
macro ntypes{ns} metamap{types{ns}, name_np};
macro ns_funcs nfuncs{"m_tparam"};
macro ns_types ntypes{"m_tparam"};
macro inst foo{baz, baz};

println(concat{"FUNC: ",  full_string{ns_funcs}});
println(concat{"TYPE: ",  full_string{ns_types}});
println(concat{"INST: ",  full_string{name_np{inst}}});
println(full_string{int});
println(full_string{tree_map{int,int}});

