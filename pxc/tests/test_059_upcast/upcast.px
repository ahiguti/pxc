public namespace upcast;
import common -;

interface ifoo {
  function void m1();
}

interface ibar <ifoo> {
  function void m2();
}

struct baz <ibar> {
  function void m1() { println("m1"); }
  function void m2() { println("m2"); }
}

function void t1()
{
  baz bz;
  ibar mutable& b = bz;
  b.m2();
  ifoo mutable& f = b;
  f.m1();
}

t1();
