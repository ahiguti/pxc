
namespace interf_tmpl;

interface ifoo {
  function int m(int x);
}

struct {t} foo : ifoo : {
  t data;
  function int m(int x) {
    return data + x;
  }
}

long q = 10;
ref{foo{int}} r = foo(q); // internal error
ref{ifoo} ir = r;
int v = ir->m(100);
import io;
io::println(v);
