import common -;

public namespace m_globals2;
import meta m;

public struct bar {
  public int f1;
  public long f2;
  public function int hoge(int x, string y) {
    return x;
  }
  public function ptr{string} fuga(int x, string y) {
    ptr{string} r = make_ptr{string}(y);
    return r;
  }
}

metafunction ns_types m::types{"m_globals2"};
metafunction finfo{f} m::concat{
  f, ":",
  m::ret_type{f}, ":",
  m::arg_types{f}};
metafunction tinfo{t} m::concat{
  t, ":",
  m::field_names{t}, ":",
  m::field_types{t}, ":",
  m::map{m::member_functions{t}, finfo}};
println(m::to_string{m::map{ns_types, tinfo}});

