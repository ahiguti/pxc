namespace s1;
import common -;
import SDL -;
import GL -;

{
  const sdl = SDL::Init(system, SDL_INIT_VIDEO);
  const s = sdl.SetVideoMode(640, 480, 16, SDL_OPENGL);
  bool done = false;
  float theta;
  float xinc;
  while (!done) {
    Event ev;
    while (sdl.PollEvent(ev)) {
      if (ev.Type() == SDL_QUIT) {
	debug_log("s1", "done");
	done = true;
	break;
      }
    }
    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);
    glLoadIdentity();
    glRotatef(theta, 0.0, 0.0, 1.0);
    {
      glBegin(GL_TRIANGLES);
      glVertex2f(0.0, -0.5);
      glVertex2f(-0.4, 0.7);
      glVertex2f(0.4, 0.7);
      glEnd();
    }
    system.usleep(10000);
    sdl.GL_SwapBuffers();
    theta += 1.0;
    xinc += 1.00000;
  }
}

