
namespace mtchk;
import test_common "";

tsvaluetype struct bar {
  int z;
}

mtvaluetype struct foo(bar const& bx) {
  int x;
  int y;
  bar b;
  tiptr{bar} bp = tiptr(bx);
  function int getbz() const { return bp->z; }
}

tsvaluetype struct baz(bar const& bx) {
  int x;
  int y;
  bar b;
  tiptr{bar} bp = tiptr(bx);
  function int getbz() const { return bp->z; }
}

function void t1() {
  var f = foo(bar(55));
  println(f.getbz());
  var b = baz(bar(53));
  println(b.getbz());
}

t1();

