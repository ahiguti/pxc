namespace retest;
import test_common "";
import regex::posix "";

function void t1()
{
  regex re;
  farray{regmatch_t, 3} m;
  re.compile("\\([a-z]\\+\\)\\([0-9]\\+\\)", 0);
  if (re.exec("abc", m, 0)) {
    foreach (size_t i, regmatch_t mutable e : m) {
      println(numeric_cast{int, regex::posix::regoff_t}(e.rm_so));
      println(numeric_cast{int, regex::posix::regoff_t}(e.rm_eo));
    }
  } else {
    println("failed");
    println(re.error_code());
    println(re.error_string());
  }
}

t1();

