import common -;

public namespace cm1;

threaded struct foo {
  function int m1() {
    return 3;
  }
  function int m2(foo mutable& f) const {
    return f.m1();
      // ok to call a non-const memfunc because it has an explicit obj
  }
}

foo x;
int r = x.m2(x);
println(r);

